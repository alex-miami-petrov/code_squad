import{A as h,a as b,S as w,N as E,K as L,M as S,i as k}from"./assets/vendor-C-7gNprX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();function P(){const o=document.getElementById("menu-btn"),t=document.getElementById("menu"),r=document.querySelectorAll(".menu-link");function i(){t.style.display==="none"||t.style.display===""?t.style.display="block":t.style.display="none"}function e(){t.style.display="none"}o.addEventListener("click",function(n){i(),n.stopPropagation()}),r.forEach(n=>{n.addEventListener("click",function(){e()})}),document.addEventListener("click",function(n){t.style.display==="block"&&!t.contains(n.target)&&n.target!==o&&e()})}new h(".accordion-container");b.defaults.baseURL="https://portfolio-js.b.goit.study/api";async function x(){const{data:o}=await b.get("reviews");return o}async function T(o){return(await b.post("requests",o)).data}function C(o){return o.map(({author:t,avatar_url:r,review:i})=>`<li class="swiper-slide rev-item">
          <dir class="rev-card">
          <img
              class="rev-image"
              src="${r}"
              alt="photo ${t}"
              width="344"
            /> 
            <h3 class="rev-author">${t}</h3>
            <p id="elem" class="rev-review">${i}</p>
          </dir>
        </li>`).join("")}function F(){new w(".rev-swiper",{modules:[E,L,S],on:{init:function(){const o=document.querySelector(".swiper-button-disabled");o.disabled=!0},toEdge:function(o){const t=document.querySelector(".swiper-button-disabled");t.disabled=!0},fromEdge:function(o){const t=document.querySelector(".rev-next"),r=document.querySelector(".rev-prev");t.disabled=!1,r.disabled=!1}},navigation:{nextEl:".rev-next",prevEl:".rev-prev"},cssMode:!0,mousewheel:!1,keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},slidesPerView:1,breakpoints:{768:{slidesPerView:2,spaceBetween:16},1440:{slidesPerView:4,spaceBetween:16}}})}function A(){let o=document.getElementById("rev"),t=o.querySelector(".rev-title");t.onclick=function(){o.classList.toggle("close")};const r=document.querySelector(".rev-container"),i=document.querySelector(".rev-list"),e=document.querySelector(".rev-error"),n=document.querySelectorAll(".rev-button");new IntersectionObserver((a,d)=>{a.forEach(u=>{u.isIntersecting&&(x().then(m=>{const v=C(m);i.innerHTML=v,F(),n.forEach(f=>{f.classList.remove("visually-hidden")}),e.classList.add("visually-hidden")}).catch(m=>{e.classList.remove("visually-hidden"),k.error({title:"Server error",titleSize:"20",position:"bottomCenter",theme:"dark",backgroundColor:"#CD5C5C",messageSize:"16",messageColor:"#FFFFFF",message:"Data not available"})}),d.unobserve(u.target))})},{threshold:.8}).observe(r)}function D(){document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("burger"),t=document.querySelector(".mob-menu"),r=document.querySelector(".close-mob-menu"),i=document.querySelector(".nav-mob-menu");function e(){document.body.style.overflow="hidden"}function n(){document.body.style.overflow=""}o.addEventListener("click",function(){t.classList.add("active"),e()}),r.addEventListener("click",function(){t.classList.remove("active"),n()}),i.addEventListener("click",function(c){if(c.target.tagName==="A"){const a=c.target.getAttribute("href"),d=document.querySelector(a);d&&(window.scrollTo({top:d.offsetTop,behavior:"smooth"}),t.classList.remove("active"))}})})}function N(){const o=document.querySelectorAll(".covers-image"),t=new IntersectionObserver((r,i)=>{r.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animated"),e.target.classList.remove("hidden"),i.unobserve(e.target))})},{threshold:.2});o.forEach(r=>{t.observe(r)})}function R(){new w(".img-slider",{speed:500,effect:"cube",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},mousewheel:!1,keyboard:!0})}const g="work-together-form";function V(){const o=document.querySelector("#js-work-together-form"),t=document.querySelector(".backdrop"),r=document.querySelector("#close-success"),i=document.querySelector("#work-together-input-email"),e=document.querySelector(".line-text-succes"),n=document.querySelector(".line-text-error"),c=document.querySelector(".line");let a=q();o.addEventListener("submit",m),o.addEventListener("input",d),t.addEventListener("click",I),r.addEventListener("click",p),window.addEventListener("keydown",O),i.addEventListener("input",u),B(a);function d(s){const{name:l,value:y}=s.target;a={...a,[l]:y},M(a)}function u(){i.checkValidity()?(c.classList.remove("error"),c.classList.add("succes"),e.classList.remove("visually-hidden"),n.classList.add("visually-hidden")):(c.classList.remove("succes"),c.classList.add("error"),e.classList.add("visually-hidden"),n.classList.remove("visually-hidden"))}async function m(s){s.preventDefault();try{const l=await T(a);v(l)}catch(l){f(l)}}function v(s){t.classList.remove("visually-hidden"),o.reset(),localStorage.removeItem(g),c.classList.remove("succes"),e.classList.add("visually-hidden"),document.body.classList.add("modal-open")}function f(s){k.error({maxWidth:"370px",position:"topRight",messageColor:"white",backgroundColor:"red",message:"Sorry, there was an error connecting to the server! Please correct your input and try again."}),console.error("Form submission error:",s.message)}function q(){try{return JSON.parse(localStorage.getItem(g))||{}}catch(s){return console.log("Error loading form data:",s),{}}}function M(s){try{localStorage.setItem(g,JSON.stringify(s))}catch(l){console.log("Error saving form data:",l)}}function B(s){for(const[l,y]of Object.entries(s))o.elements[l]&&(o.elements[l].value=y)}function p(){t.classList.add("visually-hidden"),document.body.classList.remove("modal-open")}function I(s){s.target===t&&p()}function O(s){s.key==="Escape"&&p()}}new h(".accord-container",{openOnInit:[0]});new w(".slider",{modules:[E,L,S],navigation:{nextEl:".button-next"},centeredSlides:!1,loop:!0,spaceBetween:0,slidesPerView:2,width:260,breakpoints:{768:{slidesPerView:3,width:600},1440:{slidesPerView:6,width:1200}}});function j(){const o=document.getElementById("scrollToTopBtn");window.addEventListener("scroll",function(){window.scrollY>800?o.style.display="flex":o.style.display="none"}),o.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}j();P();D();A();R();document.addEventListener("DOMContentLoaded",()=>{N()});V();
//# sourceMappingURL=commonHelpers.js.map
